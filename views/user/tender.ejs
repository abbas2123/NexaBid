<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

  <!-- PAGE TITLE -->
  <h1 class="text-4xl font-bold mb-8">All Tenders</h1>

  <!-- TENDER LISTING TITLE -->
  <h2 class="text-2xl font-bold mb-8">Tender Listings</h2>

  <!-- LIST OF TENDERS -->
  <div class="space-y-8">

    <% if (tenders && tenders.length > 0) { %>

      <% tenders.forEach(t => { %>

        <div class="bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 
                    flex flex-col md:flex-row items-center justify-between gap-6
                    transition hover:shadow-md">

          <!-- LEFT CONTENT -->
          <div class="flex-grow">

            <!-- BID END DATE -->
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">
              Bid End Date:
              <%= t.bidEndAt ? new Date(t.bidEndAt).toDateString() : "Not Set" %>
            </p>

            <!-- TITLE -->
            <h3 class="text-xl font-bold mb-1 text-gray-900 dark:text-gray-100">
              <%= t.title %>
            </h3>

            <!-- DEPARTMENT -->
            <p class="text-gray-500 dark:text-gray-300 mb-4">
              <%= t.dept || "General Department" %>
            </p>

            <!-- VIEW DETAILS BUTTON -->
            <a href="/tenders/<%= t._id %>"
               class="bg-gray-100 dark:bg-gray-700/50 text-gray-900 dark:text-gray-200
                      px-6 py-2 rounded-lg font-semibold hover:bg-gray-200 
                      dark:hover:bg-gray-600 transition">
              View Details
            </a>

          </div>

          <!-- IMAGE -->
          <img
            src="<%= t.image || 'https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=600' %>"
            alt="<%= t.title %>"
            class="w-full md:w-64 h-40 object-cover rounded-lg"
          />

        </div>

      <% }) %>

    <% } else { %>

      <p class="text-gray-600 dark:text-gray-300 text-lg text-center py-10">
        No tenders available.
      </p>

    <% } %>

  </div>

  <!-- PAGINATION -->
  <% if (pagination && pagination.totalPages > 1) { %>
    <nav class="flex items-center justify-center mt-12 space-x-2">

      <!-- PREV -->
      <% if (pagination.currentPage > 1) { %>
        <a href="/tenders?page=<%= pagination.currentPage - 1 %>"
           class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition">
          <span class="material-icons text-gray-500 dark:text-gray-300">chevron_left</span>
        </a>
      <% } %>

      <!-- PAGE NUMBERS -->
      <% for (let i = 1; i <= pagination.totalPages; i++) { %>
        <a href="/tenders?page=<%= i %>"
           class="w-10 h-10 flex items-center justify-center
                  rounded-full font-semibold
                  <%= i === pagination.currentPage 
                       ? 'bg-gray-300 dark:bg-gray-700 text-gray-900 dark:text-white' 
                       : 'hover:bg-gray-100 dark:hover:bg-gray-700' %>">
          <%= i %>
        </a>
      <% } %>

      <!-- NEXT -->
      <% if (pagination.currentPage < pagination.totalPages) { %>
        <a href="/tenders?page=<%= pagination.currentPage + 1 %>"
           class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition">
          <span class="material-icons text-gray-500 dark:text-gray-300">chevron_right</span>
        </a>
      <% } %>

    </nav>
  <% } %>

</div>