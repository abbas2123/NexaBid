<h1 class="text-3xl font-black">Upload Agreement Document</h1>
<p class="text-slate-600 dark:text-slate-400">
  Upload the official agreement document for vendor signing.
</p>

<form
  action="/publisher/tender/<%= tenderId %>/agreement/upload"
  method="POST"
  enctype="multipart/form-data"
>
  <div
    class="p-4 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800"
  >
    <div class="flex flex-col items-center gap-6 border-2 border-dashed px-6 py-14 rounded-lg">
      <span class="material-symbols-outlined text-5xl text-slate-400 dark:text-slate-500">
        upload_file
      </span>

      <p class="text-lg font-bold">Upload Agreement PDF</p>

      <input
        type="file"
        id="publisherAgreement"
        name="agreement"
        accept="application/pdf"
        class="hidden"
      />

      <label
        for="publisherAgreement"
        class="cursor-pointer bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-lg font-bold"
      >
        Choose PDF File
      </label>

      <p id="fileName" class="text-primary text-sm font-semibold"></p>
    </div>
  </div>

  <button type="submit" class="mt-4 bg-primary text-white px-6 py-2 rounded-lg font-bold">
    Upload Agreement
  </button>
</form>

<script>
  document.getElementById('publisherAgreement').addEventListener('change', (e) => {
    document.getElementById('fileName').innerText = 'ðŸ“„ ' + (e.target.files[0]?.name || '');
  });

  if (new URLSearchParams(location.search).get('agreement') === 'uploaded') {
    Swal.fire('Agreement Uploaded!', 'Vendor uploaded signed agreement.', 'success');
  }

  if (new URLSearchParams(location.search).get('agreement') === 'publisherUploaded') {
    Swal.fire('Agreement Uploaded!', 'Publisher uploaded agreement document.', 'success');
  }
</script>
